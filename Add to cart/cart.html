<!DOCTYPE html>
<html>
<head>
<title>Your Cart</title>
<style>
body{
  margin:0;
  padding:30px;
  min-height:100vh;
  font-family:Arial;
 background:linear-gradient(135deg,#e0f7fa,#ffffff);
}

.cart-box{
  max-width:1100px;
  margin:auto;
  background:white;
  padding:25px;
  border-radius:25px;
  box-shadow:0 20px 40px rgba(0,0,0,0.25);
}

h2{
  text-align:center;
  margin-bottom:25px;
}

table{
  width:100%;
  border-collapse:collapse;
}

th{
  background:#ff5f6d;
  color:white;
  padding:15px;
  font-size:16px;
}

td{
  padding:15px;
  text-align:center;
  font-size:15px;
}

tr{
  border-bottom:1px solid #eee;
}

.cart-img{
  height:90px;
}

.product-name{
  font-weight:bold;
}

.qty-box{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:12px;
}

.qty-btn{
  width:34px;
  height:34px;
  border:none;
  border-radius:50%;
  background:linear-gradient(135deg,#ff5f6d,#ff8a80);
  color:white;
  font-size:18px;
  cursor:pointer;
}

.qty-number{
  font-size:18px;
  font-weight:bold;
}

.remove-btn{
  background:#ff3b3b;
  color:white;
  border:none;
  padding:8px 14px;
  border-radius:15px;
  cursor:pointer;
}

.total-box{
  margin-top:30px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.total-text{
  font-size:22px;
  font-weight:bold;
}

.checkout-btn{
  background:linear-gradient(135deg,#28a745,#6ddf8e);
  color:white;
  border:none;
  padding:12px 30px;
  font-size:16px;
  border-radius:30px;
  cursor:pointer;
}
</style>
</head>
<body>

<script>
if(localStorage.getItem("auth")!=="yes"){
  window.location="loginpage.html";
}
</script>

<div class="cart-box">
<h2>ðŸ›’ Your Cart</h2>

<table>
<thead>
<tr>
  <th>Image</th>
  <th>Product</th>
  <th>Price</th>
  <th>Quantity</th>
  <th>Total</th>
  <th>Remove</th>
</tr>
</thead>

<tbody id="cartBody"></tbody>
</table>

<div class="total-box">
  <div class="total-text">
    Grand Total : â‚¹ <span id="cartTotal">0</span>
  </div>
  <button class="checkout-btn">Checkout</button>
</div>
</div>

<script>
let cartData = JSON.parse(localStorage.getItem("cartData")) || [];

function showCart(){
  cartBody.innerHTML="";
  let grandTotal=0;

  cartData.forEach(function(product,index){
    let total = product.price * product.qty;
    grandTotal += total;

    cartBody.innerHTML += `
      <tr>
        <td><img src="${product.img}" class="cart-img"></td>
        <td class="product-name">${product.name}</td>
        <td>â‚¹ ${product.price}</td>
        <td>
          <div class="qty-box">
            <button class="qty-btn" onclick="minusQty(${index})">âˆ’</button>
            <span class="qty-number">${product.qty}</span>
            <button class="qty-btn" onclick="plusQty(${index})">+</button>
          </div>
        </td>
        <td>â‚¹ ${total}</td>
        <td>
          <button class="remove-btn" onclick="removeItem(${index})">X</button>
        </td>
      </tr>
    `;
  });

  cartTotal.innerText = grandTotal;
  localStorage.setItem("cartData", JSON.stringify(cartData));
}

function plusQty(index){
  cartData[index].qty = cartData[index].qty + 1;
  showCart();
}

function minusQty(index){
  cartData[index].qty = cartData[index].qty - 1;
  if(cartData[index].qty <= 0){
    cartData.splice(index,1);
  }
  showCart();
}

function removeItem(index){
  cartData.splice(index,1);
  showCart();
}

showCart();
</script>

</body>
</html>
